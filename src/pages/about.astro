---
import Layout from "../layouts/Layout.astro";
import Container from "../components/Container.astro";

const ATHLETE_ID = Number(import.meta.env.STRAVA_ATHLETE_ID) || 35369206;
const STRAVA_PROFILE = `https://www.strava.com/athletes/${ATHLETE_ID}`;
const dataUrl = new URL('/data/strava-latest.json', Astro.url).pathname;
---
<Layout title="About | Zach Scholz" description="Background, focus areas, and interests.">
  <Container class="about-wrap">
    <!-- Accordion -->
    <section class="accordion" aria-label="About sections">
      <!-- About Me -->
      <details class="acc-item">
        <summary class="acc-summary">About Me</summary>
        <div class="acc-panel">
          <p>
            Naval Officer turned builder — optimization, data pipelines, and mapping. I design pragmatic tools with measurable
            outcomes, ship quickly, and iterate. Interests: vehicle routing, terrain‑aware travel‑time, and lean automations for
            finance ops. Outside of work, I’m usually running or exploring trails.
          </p>

          <!-- Photos (simple grid, upright) -->
          <div class="photos">
            <figure><img src="/photos/about-1.jpg" alt="Trail photo 1" loading="lazy" /></figure>
            <figure><img src="/photos/about-2.jpg" alt="Trail photo 2" loading="lazy" /></figure>
            <figure><img src="/photos/about-3.jpg" alt="Build / ship / iterate" loading="lazy" /></figure>

            <!-- Dynamic Strava tile -->
            <a class="strava-tile" id="strava-card" href={STRAVA_PROFILE} target="_blank" rel="noopener" aria-label="Latest Strava activity">
              <img id="strava-img" src="/photos/about-4.png" alt="Latest Strava activity" loading="lazy" />
              <div class="stats" id="strava-stats" hidden></div>
              <span class="strava-cta">View on Strava ↗</span>
            </a>
          </div>
        </div>
      </details>

      <!-- Connect -->
      <details class="acc-item">
        <summary class="acc-summary">Connect</summary>
        <div class="acc-panel">
          <div class="links">
            <a href="https://www.linkedin.com/in/zachary-scholz/" target="_blank" rel="noopener">LinkedIn</a>
            <a href="mailto:ztscholz86@gmail.com">Email</a>
            <a href={STRAVA_PROFILE} target="_blank" rel="noopener">Strava</a>
          </div>
        </div>
      </details>

      <!-- Work -->
      <details class="acc-item">
        <summary class="acc-summary">Work</summary>
        <div class="acc-panel">
          <div class="item">
            <img class="logo" src="/icons/Chicago.png" alt="USS Chicago crest" />
            <div class="meta">
              <div class="title">Reactor Control Assistant; Ops &amp; Decommissioning Lead</div>
              <div class="sub">USS Chicago (SSN‑721) · U.S. Navy</div>
            </div>
            <div class="dates">2018–2021</div>
          </div>

          <div class="item">
            <img class="logo" src="/icons/NAVEUR.png" alt="NAVEUR logo" />
            <div class="meta">
              <div class="title">Staff Officer — Analytics &amp; Planning</div>
              <div class="sub">Allied &amp; Fleet HQ · Naples, Italy</div>
            </div>
            <div class="dates">2023–Present</div>
          </div>
        </div>
      </details>

      <!-- Side Projects -->
      <details class="acc-item">
        <summary class="acc-summary">Side Projects</summary>
        <div class="acc-panel">
          <a class="proj" href="https://zachscholz.com/coding/FOC/">
            <div class="logo ph" aria-hidden="true"></div>
            <div class="meta">
              <div class="title">FOC</div>
              <div class="sub">Unity WebGL tactical sim</div>
            </div>
          </a>

          <a class="proj" href="https://zachscholz.com/coding/tone/">
            <img class="logo" src="/icons/Tone.png" alt="Tone icon" />
            <div class="meta">
              <div class="title">Tone</div>
              <div class="sub">Ear / reaction trainer (Unity WebGL)</div>
            </div>
          </a>

          <a class="proj" href="https://zachscholz.com/coding/sheepshead/">
            <img class="logo" src="/icons/Sheepshead.png" alt="Sheepshead icon" />
            <div class="meta">
              <div class="title">Sheepshead</div>
              <div class="sub">Trick‑taking card game (Unity WebGL)</div>
            </div>
          </a>
        </div>
      </details>
    </section>
  </Container>

  <!-- Strava hydrate -->
  <script type="module" define:vars={{ dataUrl }}>
    (async () => {
      const sameOrigin = dataUrl;
      const pagesOrigin = 'https://zanyz-99.github.io/my-site/data/strava-latest.json';
      const load = async (url) => {
        const r = await fetch(`${url}?ts=${Date.now()
